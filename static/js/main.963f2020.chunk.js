(this.webpackJsonpstar=this.webpackJsonpstar||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),o=a.n(s),c=a(14),l=a.n(c),r=(a(52),a(53),a(54),a(15)),i=a(7),h=a(23),d=a(18),u=a(19),j=a(21),m=a(20),p=a(90),b=a(8),g=(a(55),a(16)),x=a.n(g),f=a.p+"static/media/letterPlanet.131dbf00.gif",O=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){null===n.state.noteTitle||null===n.state.noteContent||null===n.state.noteContent?alert("\u4f60\u6709\u5730\u65b9\u6ca1\u6709\u5199\u5b8c\u54e6\uff5e"):n.handleMoveFoward()},n.handleMoveFoward=function(){x.a.post("https://tochenbackend.herokuapp.com/posts/add",{title:n.state.noteTitle,description:n.state.noteContent,user:n.state.receiver}).then((function(e){console.log(e)})).catch((function(e){console.log("There's an error")})),setTimeout((function(){n.setState({redirect:!0})}),1e3)},n.handleInputChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.state={noteTitle:null,noteContent:null,receiver:null,redirect:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return this.state.redirect?Object(n.jsx)(i.a,{to:{pathname:"/home"}}):Object(n.jsx)("div",{className:"noteBackground",children:Object(n.jsx)(p.a,{style:{width:"50rem",padding:"50px 50px 10px 50px"},children:Object(n.jsxs)(b.a,{onSubmit:this.handleSubmit,children:[Object(n.jsxs)(b.a.Group,{style:{textAlign:"left"},children:[Object(n.jsx)(b.a.Label,{children:"\u6807\u9898"}),Object(n.jsx)(b.a.Control,{required:!0,type:"text",onChange:this.handleInputChange,name:"noteTitle"})]}),Object(n.jsxs)(b.a.Group,{style:{textAlign:"left"},children:[Object(n.jsx)(b.a.Label,{children:"\u6536\u4fe1\u4eba"}),Object(n.jsx)(b.a.Control,{required:!0,type:"text",onChange:this.handleInputChange,name:"receiver"})]}),Object(n.jsxs)(b.a.Group,{controlId:"exampleForm.ControlTextarea1",style:{textAlign:"left"},children:[Object(n.jsx)(b.a.Label,{children:"\u5185\u5bb9"}),Object(n.jsx)(b.a.Control,{required:!0,as:"textarea",rows:17,onChange:this.handleInputChange,name:"noteContent"})]}),Object(n.jsx)("img",{src:f,type:"submit",alt:"planet",onClick:this.handleSubmit,className:"planet"})]})})})}}]),a}(s.Component),S=a(89),C=a.p+"static/media/picture.e7ce2590.png",w=a.p+"static/media/letter.4213584d.gif",v=a.p+"static/media/dreamMachine.6b8d0ff1.PNG",k=a.p+"static/media/magicBtn.0352d25a.gif",y=a.p+"static/media/SignInBtn.77c87640.gif",I=a.p+"static/media/notes.fcea5df7.PNG",N=a(17),B=(a(84),a(33)),P=a.n(B),M=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).buttonClicked=function(){var e=localStorage.getItem("moment");if(console.log(e),P()().diff(e,"minute")>=1440||null===e){var t=P()().format("llll");localStorage.setItem("moment",t),n.setState({moment:t}),!0===n.state.image&&!1===n.state.showPopBtn?(n.setState({imageSrc:k,image:!1}),n.setState((function(){setTimeout((function(){n.setState({showPopBtn:!0})}),5700)}))):!0===n.state.showPopBtn&&n.setState({imageSrc:k,image:!1})}else alert("\u8fd8\u6ca1\u6709\u5230\u53ef\u4ee5\u770b\u7684\u65f6\u95f4\u54e6")},n.handleModal=function(){n.setState({modalShow:!n.state.modalShow}),console.log(n.state.user),x.a.get("https://tochenbackend.herokuapp.com/posts/"+n.state.user).then((function(e){if(e.data.length>0){n.setState({posts:e.data});var t=n.state.posts,a=t[Math.floor(Math.random()*Math.floor(t.length))];n.setState({postShown:a})}else{n.setState({postShown:{title:"\u5df2\u7ecf\u770b\u5b8c\u5566",description:"\u4ee5\u540e\u518d\u4e00\u8d77\u521b\u9020\u65b0\u7684\u6545\u4e8b\u5427"}})}})).catch((function(e){console.log("There's an error")}))},n.closeModal=function(){n.setState({modalShow:!n.state.modalShow,showPopBtn:!1,imageSrc:v,image:!0}),"\u5df2\u7ecf\u770b\u5b8c\u5566"!==n.state.postShown.title&&n.deletePost(n.state.postShown._id)},n.state={image:!0,imageSrc:v,showPopBtn:!1,modalShow:!1,posts:[],postShown:{},user:"",moment:""},n}return Object(u.a)(a,[{key:"deletePost",value:function(e){console.log("here for delete"),x.a.delete("https://tochenbackend.herokuapp.com/posts/"+e).then((function(e){return console.log(e.data)}))}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("user");this.setState({user:e})}},{key:"render",value:function(){var e=this.state.showPopBtn;return Object(n.jsxs)(N.Grid,{fluid:!0,className:"homeBody",children:[Object(n.jsxs)(N.Row,{children:[Object(n.jsxs)(N.Col,{xs:1,className:"firstCol",children:[Object(n.jsx)(r.b,{to:{pathname:"/CreateNote"},children:Object(n.jsx)("img",{src:w,alt:"letter",className:"letter"})}),Object(n.jsx)(r.b,{to:{pathname:"/star"},children:Object(n.jsx)("img",{src:y,alt:"button",className:"plane"})})]}),Object(n.jsx)(N.Col,{xs:5,children:Object(n.jsx)("img",{src:C,alt:"Logo",className:"midImage"})}),Object(n.jsx)(N.Col,{xs:1,children:e&&Object(n.jsx)("img",{src:I,alt:"letter",className:"note",onClick:this.handleModal})}),Object(n.jsx)(N.Col,{xs:1,children:Object(n.jsx)("img",{id:"app",src:this.state.imageSrc,alt:"Logo",className:"dreamMachine",onClick:this.buttonClicked})})]}),Object(n.jsxs)(S.a,{show:this.state.modalShow,onHide:this.closeModal,backdrop:"static",keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"my-modal",children:[Object(n.jsx)(S.a.Header,{closeButton:!0,children:Object(n.jsx)(S.a.Title,{children:this.state.postShown.title})}),Object(n.jsx)(S.a.Body,{children:Object(n.jsx)("text",{children:this.state.postShown.description})})]})]})}}]),a}(s.Component);a(86);window.user="";var T=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),x.a.get("https://tochenbackend.herokuapp.com/user").then((function(e){for(var t=0,a=0;a<e.data.length;a++)n.state.user===e.data[a].username&&(console.log(n.state.username),n.state.password===e.data[a].password?(n.setState({redirect:!0}),localStorage.setItem("user",n.state.user)):alert("\u5bc6\u7801\u4e0d\u5bf9\u54e6"),t=1);0===t&&alert("\u7528\u6237\u4e0d\u5b58\u5728\u54e6\uff01")})).catch((function(e){console.log("There's an error")}))},n.handleInputChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),console.log(n.state.user)},n.state={user:null,password:null,userInformation:[],redirect:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return this.state.redirect?Object(n.jsx)(i.a,{to:{pathname:"/home",state:{user:this.state.user}}}):Object(n.jsx)("div",{className:"background",children:Object(n.jsxs)(p.a,{style:{width:"30rem",padding:"30px"},children:[Object(n.jsx)("h2",{className:"logIn",children:"\u767b\u9646"}),Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(b.a.Group,{style:{textAlign:"left"},children:[Object(n.jsx)(b.a.Label,{children:"\u7528\u6237\u540d"}),Object(n.jsx)(b.a.Control,{type:"text",placeholder:"Enter Username",name:"user",onChange:this.handleInputChange})]}),Object(n.jsxs)(b.a.Group,{controlId:"formBasicPassword",style:{textAlign:"left"},children:[Object(n.jsx)(b.a.Label,{children:"\u5bc6\u7801"}),Object(n.jsx)(b.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleInputChange})]}),Object(n.jsx)("img",{src:y,alt:"plane",className:"SignInBtn",onClick:this.handleSubmit,width:"100px"})]})]})})}}]),a}(s.Component);var L=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(r.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(i.b,{path:"/star",exact:!0,component:T}),Object(n.jsx)(i.b,{path:"/Home",component:M}),Object(n.jsx)(i.b,{path:"/CreateNote",component:O})]})})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),o(e),c(e)}))};l.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),G()}},[[87,1,2]]]);
//# sourceMappingURL=main.963f2020.chunk.js.map